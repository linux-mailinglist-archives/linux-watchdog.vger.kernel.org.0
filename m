Return-Path: <linux-watchdog-owner@vger.kernel.org>
X-Original-To: lists+linux-watchdog@lfdr.de
Delivered-To: lists+linux-watchdog@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 5A480A8013
	for <lists+linux-watchdog@lfdr.de>; Wed,  4 Sep 2019 12:10:32 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1727929AbfIDKKb (ORCPT <rfc822;lists+linux-watchdog@lfdr.de>);
        Wed, 4 Sep 2019 06:10:31 -0400
Received: from condef-06.nifty.com ([202.248.20.71]:26967 "EHLO
        condef-06.nifty.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1726528AbfIDKK1 (ORCPT
        <rfc822;linux-watchdog@vger.kernel.org>);
        Wed, 4 Sep 2019 06:10:27 -0400
X-Greylist: delayed 630 seconds by postgrey-1.27 at vger.kernel.org; Wed, 04 Sep 2019 06:10:24 EDT
Received: from conssluserg-01.nifty.com ([10.126.8.80])by condef-06.nifty.com with ESMTP id x849sG6A013584;
        Wed, 4 Sep 2019 18:54:16 +0900
Received: from mail-vs1-f44.google.com (mail-vs1-f44.google.com [209.85.217.44]) (authenticated)
        by conssluserg-01.nifty.com with ESMTP id x849s15r014209;
        Wed, 4 Sep 2019 18:54:02 +0900
DKIM-Filter: OpenDKIM Filter v2.10.3 conssluserg-01.nifty.com x849s15r014209
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=nifty.com;
        s=dec2015msa; t=1567590842;
        bh=JhR6cBZJXNkOmtdDQlpAlb7TvbwSunLjm1s429y9/Dc=;
        h=References:In-Reply-To:From:Date:Subject:To:Cc:From;
        b=tc1bbOw3q/fS5ESOlY4iWeAPsZZbollJrad1rcRIqARjafvBEG1L+szF2i0iuxMPB
         mOBSwDvJaIEqaWWvI4fc6KCfVZmuntO3U2gMm3dqAkrSqBaw/bvizI0nuadnKyZvnO
         5jc7G4eWKcJKuQ0II/T4Dt4hm1RTHUdzJjVYIMcMjswkke/fj42M15xAKAGss/rgeZ
         rAYuC5BI98+uj8cX5/KKvSlspeH/HHZAi5RMDOr1tPaRHs1rnmqW1VvJU+o8tHBVuL
         ZLWc80VaCc+CZHnbxjGOZ1QD+qhaOp/tHcj+4s9tZ2Aeq8luTur+sSSRLm4Af1XGmD
         52vqUUmANWokw==
X-Nifty-SrcIP: [209.85.217.44]
Received: by mail-vs1-f44.google.com with SMTP id b11so7831266vsq.2;
        Wed, 04 Sep 2019 02:54:02 -0700 (PDT)
X-Gm-Message-State: APjAAAUznz7Try3leflUU5c/Vx/rXl8QBV4J9bSMyq+DyL3kdeyE8jvn
        Tt2HyLBB+VNuIMseXHs25POLE86V2iMbfSy3zcI=
X-Google-Smtp-Source: APXvYqy7454Jcx92pI3RMqpwk+6S0ib6S9rkr/phvwsE/qgfXtGRn0kQpTfE9reHZl23eQ23thoWq0SUB2mqidzWvw0=
X-Received: by 2002:a67:fd97:: with SMTP id k23mr21110513vsq.179.1567590841199;
 Wed, 04 Sep 2019 02:54:01 -0700 (PDT)
MIME-Version: 1.0
References: <20180716122125.175792-1-maco@android.com> <20190903150638.242049-1-maennich@google.com>
 <20190903150638.242049-9-maennich@google.com>
In-Reply-To: <20190903150638.242049-9-maennich@google.com>
From:   Masahiro Yamada <yamada.masahiro@socionext.com>
Date:   Wed, 4 Sep 2019 18:53:25 +0900
X-Gmail-Original-Message-ID: <CAK7LNARgxoXAABNXhO-LzxAm8rh6NJqAm9-iMo2=t2c_6_KXtQ@mail.gmail.com>
Message-ID: <CAK7LNARgxoXAABNXhO-LzxAm8rh6NJqAm9-iMo2=t2c_6_KXtQ@mail.gmail.com>
Subject: Re: [PATCH v4 08/12] scripts: Coccinelle script for namespace dependencies.
To:     Matthias Maennich <maennich@google.com>
Cc:     Linux Kernel Mailing List <linux-kernel@vger.kernel.org>,
        "Cc: Android Kernel" <kernel-team@android.com>,
        Arnd Bergmann <arnd@arndb.de>,
        Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
        Jessica Yu <jeyu@kernel.org>,
        "Joel Fernandes (Google)" <joel@joelfernandes.org>,
        Lucas De Marchi <lucas.de.marchi@gmail.com>,
        maco@android.com, sspatil@google.com,
        Will Deacon <will@kernel.org>,
        Linux Kbuild mailing list <linux-kbuild@vger.kernel.org>,
        linux-modules@vger.kernel.org,
        linux-usb <linux-usb@vger.kernel.org>,
        usb-storage@lists.one-eyed-alien.net,
        linux-watchdog@vger.kernel.org, Julia Lawall <julia.lawall@lip6.fr>
Content-Type: text/plain; charset="UTF-8"
Sender: linux-watchdog-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-watchdog.vger.kernel.org>
X-Mailing-List: linux-watchdog@vger.kernel.org

On Wed, Sep 4, 2019 at 12:07 AM Matthias Maennich <maennich@google.com> wrote:
>
> A script that uses the '<module>.ns_deps' files generated by modpost to
> automatically add the required symbol namespace dependencies to each
> module.
>
> Usage:
> 1) Move some symbols to a namespace with EXPORT_SYMBOL_NS() or define
>    DEFAULT_SYMBOL_NAMESPACE
> 2) Run 'make' (or 'make modules') and get warnings about modules not
>    importing that namespace.
> 3) Run 'make nsdeps' to automatically add required import statements
>    to said modules.
>
> This makes it easer for subsystem maintainers to introduce and maintain
> symbol namespaces into their codebase.
>
> Co-developed-by: Martijn Coenen <maco@android.com>
> Signed-off-by: Martijn Coenen <maco@android.com>
> Acked-by: Julia Lawall <julia.lawall@lip6.fr>
> Reviewed-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
> Signed-off-by: Matthias Maennich <maennich@google.com>


Without any correct dependency,
this does not work.

$ make clean; make nsdeps
cat: modules.order: No such file or directory
cat: ./modules.order: No such file or directory


I do not see any point in the Makefile changes.



-- 
Best Regards
Masahiro Yamada
